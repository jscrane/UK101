t ?= esp32
s ?= uk101

ifeq ($t, esp32)
BOARD := lolin32
UPLOAD_SPEED := 921600
TERMINAL_SPEED := 115200
CPPFLAGS = -DUSER_SETUP_LOADED -DILI9341_DRIVER -DTFT_CS=5 -DTFT_DC=2 \
        -DTFT_RST=-1 -DSPI_FREQUENCY=40000000 -DLOAD_GLCD \
	-DHARDWARE_H=\"hw/esp32-espi-spiffs.h\"
LIBRARIES = TFT_eSPI FS SPIFFS
endif

ifeq ($t, esp8266)
BOARD := d1_mini
BAUD := 921600
TERMINAL_SPEED := 115200
TERMINAL_EXTRA_FLAGS := -C serialout.txt
EESZ := 4M1M
XTAL := 80
CPPFLAGS = -DUSER_SETUP_LOADED -DILI9341_DRIVER -DTFT_CS=PIN_D8 -DTFT_DC=PIN_D1 \
	   -DTFT_RST=-1 -DSPI_FREQUENCY=40000000 -DLOAD_GLCD \
	   -DHARDWARE_H=\"hw/esp8266-pwm-fs-23k256.h\" -DDEBUGGING -DCPU_DEBUG
LIBRARIES = TFT_eSPI
endif

ifeq ($t, tivac)
BOARD := EK-LM4F120XL
CPPFLAGS = -DHARDWARE_H=\"hw/lm4f-utft-sd.h\"
LIBRARIES = UTFT SD
endif

ifeq ($s, uk101)
CPPFLAGS += -DUK101
FS_DIR := uk101/programs
endif

ifeq ($s, ohio)
CPPFLAGS += -DOHIO
FS_DIR := ohio/programs
endif

include $t.mk
